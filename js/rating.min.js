!function(a){a.fn.rating=function(b){b=b||function(){},this.each(function(c,d){a(d).data("rating",{callback:b}).bind("init.rating",a.fn.rating.init).bind("set.rating",a.fn.rating.set).bind("hover.rating",a.fn.rating.hover).trigger("init.rating")})},a.extend(a.fn.rating,{init:function(b){for(var c=a(this),d="",e=null,f=c.children(),g=0,h=f.length;h>g;g++)d=d+'<a class="star" title="'+a(f[g]).val()+'" />',a(f[g]).is(":checked")&&(e=a(f[g]).val());f.hide(),c.append('<div class="stars">'+d+"</div>").trigger("set.rating",e),a("a",c).bind("click",a.fn.rating.click),c.trigger("hover.rating")},set:function(b,c){var d=a(this),e=a("a",d),f=void 0;c&&(e.removeClass("fullStar"),f=e.filter(function(b){return a(this).attr("title")==c?a(this):!1}),f.addClass("fullStar").prevAll().addClass("fullStar"))},hover:function(b){var c=a(this),d=a("a",c);d.bind("mouseenter",function(b){a(this).addClass("tmp_fs").prevAll().addClass("tmp_fs"),a(this).nextAll().addClass("tmp_es")}),d.bind("mouseleave",function(b){a(this).removeClass("tmp_fs").prevAll().removeClass("tmp_fs"),a(this).nextAll().removeClass("tmp_es")})},click:function(b){b.preventDefault();var c=a(b.target),d=c.parent().parent(),e=d.children("input"),f=c.attr("title");matchInput=e.filter(function(b){return a(this).val()==f?!0:!1}),matchInput.prop("checked",!0).siblings("input").prop("checked",!1),d.trigger("set.rating",matchInput.val()).data("rating").callback(f,b)}})}(jQuery);