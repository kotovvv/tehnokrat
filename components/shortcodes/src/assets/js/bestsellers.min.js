jQuery(document).ready(function(jQuery){

    var proditem_height = jQuery(".top-prod-new .product-item .product-cont").height();
    jQuery('.product-item').css('min-height', proditem_height+40);

    jQuery(".top-prod-new .product-item").on({
        touchstart: function () {
            jQuery(this).addClass('active');
        },
        touchend: function () {
            jQuery(this).removeClass('active');
        },
    });

    jQuery(".top-prod-new .product-item").on({
        mouseenter: function () {
            jQuery(this).addClass('active');
        },
        mouseleave: function () {
            jQuery(this).removeClass('active');
        }
    });

    if(jQuery(window).width() >= 768) {
        var pi = document.getElementsByClassName("product-item");
        var j;
        for (j = 0; j < pi.length; j++) {
            pi[j].addEventListener("mouseover", function () {
                this.classList.toggle("active");
                var pichild = pi.querySelector('.features');
                if (pichild.style.maxHeight) {
                    pichild.style.maxHeight = null;
                } else {
                    pichild.style.maxHeight = pichild.scrollHeight + "px";
                }
            });
        }
    }
});

jQuery(window).resize(function(){
    var proditem_height = jQuery(".top-prod-new .product-item .product-cont").height();
    jQuery('.top-prod-new .product-item').css('min-height', proditem_height+40);
});
